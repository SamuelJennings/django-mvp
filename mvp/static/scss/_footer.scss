/* =============================================================================
   FOOTER COMPONENT
   
   Structure:
   - .app-footer: Application footer (Level 1, within .app-column)
   
   Modes:
   - Sticky: Always sticks to bottom (flex: 0 0 auto)
   - Flow: Flows with content (position: static)
   - Responsive: Sticky on mobile, flow on desktop (configurable breakpoint)
   
   Configuration via PAGE_CONFIG:
   - footer.visible: true/false
   - footer.sticky: true/false or breakpoint ('sm', 'md', 'lg', 'xl', 'xxl')
   ============================================================================= */

.app-footer {
  width: 100%;
  background: var(--app-footer-bg, var(--bs-body-bg));
  border-top: 1px solid var(--app-footer-border, var(--bs-border-color));
  padding: var(--app-footer-padding, 1rem 1.5rem);
  flex-shrink: 0;
  
  /* Default: Flow with content */
  position: static;
}

/* Sticky Mode (Always)
   Applied when footer.sticky = true
   --------------------------------------------------------------------------- */
.app-footer.sticky {
  margin-top: auto; /* Push to bottom using flexbox */
  flex: 0 0 auto;
}

/* Flow Mode (Always)
   Applied when footer.sticky = false
   --------------------------------------------------------------------------- */
.app-footer.flow {
  position: static;
  margin-top: 0;
}

/* Responsive Sticky Modes
   Applied when footer.sticky = breakpoint (e.g., 'md')
   Stick on mobile (below breakpoint), flow on desktop (above breakpoint)
   --------------------------------------------------------------------------- */

/* Sticky below 'sm' (576px) */
.app-footer.sticky-below-sm {
  @media (max-width: 575px) {
    margin-top: auto;
    flex: 0 0 auto;
  }
  
  @media (min-width: 576px) {
    position: static;
    margin-top: 0;
  }
}

/* Sticky below 'md' (768px) */
.app-footer.sticky-below-md {
  @media (max-width: 767px) {
    margin-top: auto;
    flex: 0 0 auto;
  }
  
  @media (min-width: 768px) {
    position: static;
    margin-top: 0;
  }
}

/* Sticky below 'lg' (992px) */
.app-footer.sticky-below-lg {
  @media (max-width: 991px) {
    margin-top: auto;
    flex: 0 0 auto;
  }
  
  @media (min-width: 992px) {
    position: static;
    margin-top: 0;
  }
}

/* Sticky below 'xl' (1200px) */
.app-footer.sticky-below-xl {
  @media (max-width: 1199px) {
    margin-top: auto;
    flex: 0 0 auto;
  }
  
  @media (min-width: 1200px) {
    position: static;
    margin-top: 0;
  }
}

/* Sticky below 'xxl' (1400px) */
.app-footer.sticky-below-xxl {
  @media (max-width: 1399px) {
    margin-top: auto;
    flex: 0 0 auto;
  }
  
  @media (min-width: 1400px) {
    position: static;
    margin-top: 0;
  }
}

/* Footer Content Layout
   --------------------------------------------------------------------------- */
.app-footer-content {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 1rem;
  flex-wrap: wrap;
  
  /* Mobile: Stack vertically */
  @media (max-width: 767px) {
    flex-direction: column;
    align-items: flex-start;
  }
}

/* Footer Sections */
.app-footer-left,
.app-footer-center,
.app-footer-right {
  display: flex;
  align-items: center;
  gap: 1rem;
}

.app-footer-center {
  flex: 1;
  justify-content: center;
  
  @media (max-width: 767px) {
    width: 100%;
    justify-content: flex-start;
  }
}

.app-footer-right {
  justify-content: flex-end;
  
  @media (max-width: 767px) {
    width: 100%;
    justify-content: flex-start;
  }
}

/* Footer Links */
.app-footer-links {
  display: flex;
  gap: 1.5rem;
  list-style: none;
  margin: 0;
  padding: 0;
  
  @media (max-width: 767px) {
    flex-direction: column;
    gap: 0.5rem;
  }
  
  a {
    color: var(--app-footer-link-color, var(--bs-link-color));
    text-decoration: none;
    transition: color 0.2s ease;
    
    &:hover {
      color: var(--app-footer-link-hover-color, var(--bs-link-hover-color));
      text-decoration: underline;
    }
  }
}

/* Footer Text */
.app-footer-text {
  color: var(--app-footer-text-color, var(--bs-secondary-color));
  font-size: var(--app-footer-text-size, 0.875rem);
  margin: 0;
}

/* Footer Copyright */
.app-footer-copyright {
  color: var(--app-footer-copyright-color, var(--bs-secondary-color));
  font-size: var(--app-footer-copyright-size, 0.875rem);
  
  @media (max-width: 767px) {
    width: 100%;
  }
}

/* Footer Social Icons */
.app-footer-social {
  display: flex;
  gap: 0.75rem;
  
  a {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 2rem;
    height: 2rem;
    border-radius: 50%;
    color: var(--app-footer-social-color, var(--bs-secondary-color));
    background: var(--app-footer-social-bg, transparent);
    transition: all 0.2s ease;
    
    &:hover {
      color: var(--app-footer-social-hover-color, var(--bs-primary));
      background: var(--app-footer-social-hover-bg, var(--bs-light));
    }
  }
}

/* CSS Variables for Footer
   --------------------------------------------------------------------------- */
:root {
  /* Background and borders */
  --app-footer-bg: var(--bs-body-bg);
  --app-footer-border: var(--bs-border-color);
  --app-footer-padding: 1rem 1.5rem;
  --app-footer-height: auto;
  
  /* Text colors */
  --app-footer-text-color: var(--bs-secondary-color);
  --app-footer-text-size: 0.875rem;
  --app-footer-copyright-color: var(--bs-secondary-color);
  --app-footer-copyright-size: 0.875rem;
  
  /* Links */
  --app-footer-link-color: var(--bs-link-color);
  --app-footer-link-hover-color: var(--bs-link-hover-color);
  
  /* Social icons */
  --app-footer-social-color: var(--bs-secondary-color);
  --app-footer-social-bg: transparent;
  --app-footer-social-hover-color: var(--bs-primary);
  --app-footer-social-hover-bg: var(--bs-light);
}

/* Dark Mode Overrides
   --------------------------------------------------------------------------- */
[data-bs-theme="dark"] {
  --app-footer-bg: var(--bs-dark);
  --app-footer-border: var(--bs-border-color);
  --app-footer-social-hover-bg: rgba(255, 255, 255, 0.1);
}

/* Utility: Hide footer */
.app-footer.hidden {
  display: none;
}
