/**
 * Page Layout System - Main Container
 *
 * Provides a nested grid-based layout system for use within AdminLTE's main content area.
 */

.mvp-layout {
  display: grid;
  grid-template-columns: auto 1fr auto;
  grid-template-rows: min-content 1fr min-content;
  grid-area: page;
  height: 100%;
  width: 100%;
  gap: $mvp-layout-gap;
  position: relative;
  overflow: hidden; // Contain layout within parent
  --sidebar-width: #{$mvp-sidebar-width};

  &.scrollable {
    overflow: visible; // Allow scrolling within layout
    height: auto;

    > .mvp-header {
      z-index: 3; // Higher z-index for scrollable layouts
    }
  }

  > .mvp-header {
    grid-area: header;
    // min-height: min-content;
    z-index: 1; // Default z-index
  }

  > .mvp-content {
    grid-area: page;
    position: relative;
    min-width: 0; // Allow grid item to shrink below content size for horizontal scrolling
    overflow: auto;
  }

  > .mvp-sidebar.sidebar-fixed {
    height: 100vh;
    position: sticky;
    top: 0;
  }

  > .mvp-sidebar.mvp-sidebar-left {
    grid-area: left;
  }

  > .mvp-sidebar.mvp-sidebar-right {
    grid-area: right;
  }

  > .mvp-footer {
    grid-area: footer;
    // min-height: min-content;
    z-index: 1; // Default z-index
  }
}

@include generate-all-grid-layouts("mvp-layout");
