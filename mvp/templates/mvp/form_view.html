{% extends "mvp/base.html" %}
{% block content %}
  <c-card>
    <c-slot name="header">
      <h3 class="card-title">{{ page_title|default:"Form" }}</h3>
    </c-slot>
    {# Non-field errors summary #}
    {% if form.non_field_errors %}
      <div class="alert alert-danger" role="alert">
        <strong>Please correct the following errors:</strong>
        {{ form.non_field_errors }}
      </div>
    {% endif %}
    {# Dynamically load the correct form renderer component #}
    <c-component is="forms.{{ form_renderer|default:"django" }}" />
    <c-slot name="footer_end">
      <button type="submit"
              class="btn btn-primary"
              onclick="this.closest('.card').querySelector('form').submit(); return false;">
        {{ submit_text|default:"Submit" }}
      </button>
      {% if cancel_url %}<a href="{{ cancel_url }}" class="btn btn-secondary ms-2">Cancel</a>{% endif %}
    </c-slot>
  </c-card>
{% endblock content %}
