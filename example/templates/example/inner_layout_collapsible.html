{% extends "layouts/standard.html" %}
{% load cotton %}
{% block content %}
  <c-page.toolbar>
    <c-slot name="start">
      <button class="btn btn-link d-md-none"
              data-bs-toggle="offcanvas"
              data-bs-target="#primary-sidebar"
              aria-label="Toggle filters">
        <i class="bi bi-funnel"></i>
      </button>
      <h1>Collapsible Sidebars</h1>
    </c-slot>
    <c-slot name="end">
      <button class="btn btn-link d-md-none"
              data-bs-toggle="offcanvas"
              data-bs-target="#secondary-sidebar"
              aria-label="Toggle stats">
        <i class="bi bi-bar-chart"></i>
      </button>
    </c-slot>
  </c-page.toolbar>
  <c-page.content>
    <c-layouts.inner primary_width="320px"
                     secondary_width="280px"
                     gap="2"
                     collapse_primary="true"
                     collapse_secondary="true">
      <c-slot name="primary_sidebar">
        <div class="p-3">
          <h4 class="mb-3 collapsed-only"
              style="display: none">
            <i class="bi bi-funnel"></i>
          </h4>
          <h4 class="mb-3 expanded-only">
            <i class="bi bi-funnel me-2"></i>Filters
          </h4>
          <div class="expanded-only">
            <div class="mb-3">
              <label for="dateRange" class="form-label">Date Range</label>
              <select class="form-select" id="dateRange">
                <option>Last 7 days</option>
                <option>Last 30 days</option>
                <option>Last 90 days</option>
              </select>
            </div>
            <div class="mb-3">
              <label for="category" class="form-label">Category</label>
              <select class="form-select" id="category">
                <option>All Categories</option>
                <option>Technology</option>
                <option>Science</option>
                <option>Business</option>
              </select>
            </div>
            <div class="mb-3">
              <label class="form-label">Status</label>
              <div class="form-check">
                <input class="form-check-input"
                       type="checkbox"
                       id="active"
                       checked />
                <label class="form-check-label" for="active">Active</label>
              </div>
              <div class="form-check">
                <input class="form-check-input"
                       type="checkbox"
                       id="pending" />
                <label class="form-check-label" for="pending">Pending</label>
              </div>
              <div class="form-check">
                <input class="form-check-input"
                       type="checkbox"
                       id="archived" />
                <label class="form-check-label" for="archived">Archived</label>
              </div>
            </div>
            <button class="btn btn-primary w-100">Apply Filters</button>
          </div>
        </div>
      </c-slot>
      <c-slot name="secondary_sidebar">
        <div class="p-3">
          <h4 class="mb-3 collapsed-only"
              style="display: none">
            <i class="bi bi-bar-chart"></i>
          </h4>
          <h4 class="mb-3 expanded-only">
            <i class="bi bi-bar-chart me-2"></i>Statistics
          </h4>
          <div class="expanded-only">
            <div class="card mb-3">
              <div class="card-body">
                <h5 class="card-title">Total Items</h5>
                <p class="display-6 mb-0">1,247</p>
              </div>
            </div>
            <div class="card mb-3">
              <div class="card-body">
                <h5 class="card-title">Active</h5>
                <p class="display-6 mb-0 text-success">983</p>
              </div>
            </div>
            <div class="card mb-3">
              <div class="card-body">
                <h5 class="card-title">Pending</h5>
                <p class="display-6 mb-0 text-warning">154</p>
              </div>
            </div>
            <div class="card">
              <div class="card-body">
                <h5 class="card-title">Archived</h5>
                <p class="display-6 mb-0 text-secondary">110</p>
              </div>
            </div>
          </div>
        </div>
      </c-slot>
      <div class="container-fluid py-4">
        <h2>Collapsible Sidebar Demo</h2>
        <p class="lead">Click the collapse toggles on each sidebar to maximize your workspace.</p>
        <div class="alert alert-info">
          <i class="bi bi-lightbulb me-2"></i>
          <strong>Interactive Features:</strong>
          <ul class="mb-0 mt-2">
            <li>Click the chevron buttons on sidebar edges to collapse/expand</li>
            <li>Collapsed state persists across page reloads (localStorage)</li>
            <li>On mobile, collapse is disabled - use offcanvas mode instead</li>
            <li>Custom widths (320px/280px) and gap spacing (gap-2) applied</li>
          </ul>
        </div>
        <h3 class="mt-5">Dashboard Content</h3>
        <div class="row g-3">
          <div class="col-md-6 col-lg-4">
            <div class="card">
              <div class="card-header bg-primary text-white">
                <h5 class="mb-0">Project Alpha</h5>
              </div>
              <div class="card-body">
                <p class="card-text">
                  Status: <span class="badge bg-success">Active</span>
                </p>
                <p class="card-text">Progress: 75%</p>
                <div class="progress" style="height: 20px;">
                  <div class="progress-bar"
                       role="progressbar"
                       style="width: 75%">75%</div>
                </div>
              </div>
              <div class="card-footer">
                <small class="text-muted">Last updated 2 hours ago</small>
              </div>
            </div>
          </div>
          <div class="col-md-6 col-lg-4">
            <div class="card">
              <div class="card-header bg-success text-white">
                <h5 class="mb-0">Project Beta</h5>
              </div>
              <div class="card-body">
                <p class="card-text">
                  Status: <span class="badge bg-warning">Pending</span>
                </p>
                <p class="card-text">Progress: 45%</p>
                <div class="progress" style="height: 20px;">
                  <div class="progress-bar bg-warning"
                       role="progressbar"
                       style="width: 45%">45%</div>
                </div>
              </div>
              <div class="card-footer">
                <small class="text-muted">Last updated 5 hours ago</small>
              </div>
            </div>
          </div>
          <div class="col-md-6 col-lg-4">
            <div class="card">
              <div class="card-header bg-info text-white">
                <h5 class="mb-0">Project Gamma</h5>
              </div>
              <div class="card-body">
                <p class="card-text">
                  Status: <span class="badge bg-success">Active</span>
                </p>
                <p class="card-text">Progress: 92%</p>
                <div class="progress" style="height: 20px;">
                  <div class="progress-bar bg-success"
                       role="progressbar"
                       style="width: 92%">92%</div>
                </div>
              </div>
              <div class="card-footer">
                <small class="text-muted">Last updated 1 hour ago</small>
              </div>
            </div>
          </div>
        </div>
        <h3 class="mt-5">Code Example</h3>
        <pre><code>{% verbatim %}&lt;c-layouts.inner
  primary_width="320px" 
  secondary_width="280px" 
  gap="2"
  collapse_primary="true" 
  collapse_secondary="true"&gt;
  
  &lt;c-slot name="primary_sidebar"&gt;
    &lt;!-- Filters --&gt;
  &lt;/c-slot&gt;

  &lt;c-slot name="secondary_sidebar"&gt;
    &lt;!-- Statistics --&gt;
  &lt;/c-slot&gt;

  &lt;!-- Main dashboard content --&gt;
&lt;/c-layouts.inner&gt;{% endverbatim %}</code></pre>
      </div>
    </c-layouts.inner>
  </c-page.content>
{% endblock %}
