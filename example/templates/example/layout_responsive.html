{% extends "base.html" %}
{% load cotton %}
{% block app %}
  {# Dynamic sidebar_expand based on query parameter #}
  <c-app sidebar_expand="{{ breakpoint }}">
    <c-app.header />
    <c-app.sidebar>
      <nav class="mt-2">
        <!--begin::Sidebar Menu-->
        <ul class="nav sidebar-menu flex-column"
            data-lte-toggle="treeview"
            role="menu">
          <li class="nav-item">
            <a href="#" class="nav-link">
              <i class="nav-icon bi bi-house"></i>
              <p>Dashboard Item 1</p>
            </a>
          </li>
          <li class="nav-item">
            <a href="#" class="nav-link">
              <i class="nav-icon bi bi-graph-up"></i>
              <p>Analytics Item 2</p>
            </a>
          </li>
          <li class="nav-item">
            <a href="#" class="nav-link">
              <i class="nav-icon bi bi-people"></i>
              <p>Users Item 3</p>
            </a>
          </li>
          <li class="nav-item">
            <a href="#" class="nav-link">
              <i class="nav-icon bi bi-gear"></i>
              <p>Settings Item 4</p>
            </a>
          </li>
          <li class="nav-item">
            <a href="#" class="nav-link">
              <i class="nav-icon bi bi-cart"></i>
              <p>Orders Item 5</p>
            </a>
          </li>
          <li class="nav-item">
            <a href="#" class="nav-link">
              <i class="nav-icon bi bi-box"></i>
              <p>Products Item 6</p>
            </a>
          </li>
          <li class="nav-item">
            <a href="#" class="nav-link">
              <i class="nav-icon bi bi-file-text"></i>
              <p>Reports Item 7</p>
            </a>
          </li>
          <li class="nav-item">
            <a href="#" class="nav-link">
              <i class="nav-icon bi bi-bell"></i>
              <p>Notifications Item 8</p>
            </a>
          </li>
          <li class="nav-item">
            <a href="#" class="nav-link">
              <i class="nav-icon bi bi-envelope"></i>
              <p>Messages Item 9</p>
            </a>
          </li>
          <li class="nav-item">
            <a href="#" class="nav-link">
              <i class="nav-icon bi bi-calendar"></i>
              <p>Calendar Item 10</p>
            </a>
          </li>
          <li class="nav-item">
            <a href="#" class="nav-link">
              <i class="nav-icon bi bi-folder"></i>
              <p>Files Item 11</p>
            </a>
          </li>
          <li class="nav-item">
            <a href="#" class="nav-link">
              <i class="nav-icon bi bi-lock"></i>
              <p>Security Item 12</p>
            </a>
          </li>
          <li class="nav-item">
            <a href="#" class="nav-link">
              <i class="nav-icon bi bi-question-circle"></i>
              <p>Help Item 13</p>
            </a>
          </li>
          <li class="nav-item">
            <a href="#" class="nav-link">
              <i class="nav-icon bi bi-info-circle"></i>
              <p>About Item 14</p>
            </a>
          </li>
          <li class="nav-item">
            <a href="#" class="nav-link">
              <i class="nav-icon bi bi-box-arrow-right"></i>
              <p>Logout Item 15</p>
            </a>
          </li>
        </ul>
        <!--end::Sidebar Menu-->
      </nav>
    </c-app.sidebar>
    <c-app.main>
      <div class="app-content-header">
        <div class="container-fluid">
          <div class="row">
            <div class="col-sm-6">
              <h3 class="mb-0">Responsive Breakpoint Demo</h3>
            </div>
            <div class="col-sm-6">
              <ol class="breadcrumb float-sm-end">
                <li class="breadcrumb-item">
                  <a href="/">Home</a>
                </li>
                <li class="breadcrumb-item">
                  <a href="/example/">Example</a>
                </li>
                <li class="breadcrumb-item active"
                    aria-current="page">Responsive Breakpoint</li>
              </ol>
            </div>
          </div>
        </div>
      </div>
      <div class="app-content">
        <div class="container-fluid">
          {# Helper text and visual indicators #}
          <div class="row mb-4">
            <div class="col-12">
              <div class="alert alert-info">
                <h5 class="alert-heading">
                  <i class="bi bi-info-circle"></i> Breakpoint Testing Instructions
                </h5>
                <p>
                  Use the dropdown below to test different sidebar expansion breakpoints. The breakpoint determines
                  when the sidebar transitions from off-canvas (hamburger menu) to always-visible sidebar.
                </p>
                <ul class="mb-0">
                  <li>
                    <strong>sm (576px):</strong> Sidebar expands on small devices and up
                  </li>
                  <li>
                    <strong>md (768px):</strong> Sidebar expands on medium devices and up (tablets)
                  </li>
                  <li>
                    <strong>lg (992px):</strong> Sidebar expands on large devices and up (default)
                  </li>
                  <li>
                    <strong>xl (1200px):</strong> Sidebar expands on extra-large devices and up
                  </li>
                  <li>
                    <strong>xxl (1400px):</strong> Sidebar expands on extra-extra-large devices and up
                  </li>
                </ul>
                <p class="mt-2 mb-0">
                  <strong>Try this:</strong> Select a breakpoint, then resize your browser window to see the sidebar
                  behavior change at that breakpoint width.
                </p>
              </div>
            </div>
          </div>
          {# Visual status indicator #}
          <div class="row mb-4">
            <div class="col-12">
              <div class="card">
                <div class="card-header">
                  <h5 class="card-title mb-0">Current Configuration</h5>
                </div>
                <div class="card-body">
                  <div class="row">
                    <div class="col-md-6">
                      <strong>Sidebar Expand Breakpoint:</strong>
                      <span class="badge bg-primary">{{ breakpoint|upper }}</span>
                      <small class="text-muted">(sidebar-expand-{{ breakpoint }})</small>
                    </div>
                    <div class="col-md-6">
                      <strong>Body Class:</strong>
                      <code>sidebar-expand-{{ breakpoint }}</code>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          {# Breakpoint selector form #}
          <div class="row mb-4">
            <div class="col-12">
              <div class="card">
                <div class="card-header">
                  <h5 class="card-title mb-0">Select Breakpoint</h5>
                </div>
                <div class="card-body">
                  <form method="get" action="">
                    <div class="row align-items-end">
                      <div class="col-md-6">
                        <label for="breakpoint" class="form-label">Sidebar Expansion Breakpoint</label>
                        <select class="form-select"
                                id="breakpoint"
                                name="breakpoint">
                          {% for bp in breakpoints %}<option value="{{ bp }}"
                                  {% if bp == breakpoint %}selected{% endif %}>{{ bp|upper }} - {% if bp == 'sm' %}576px (Small){% elif bp == 'md' %}768px (Medium){% elif bp == 'lg' %}992px (Large - Default){% elif bp == 'xl' %}1200px (Extra Large){% else %}1400px (Extra Extra Large){% endif %}</option>{% endfor %}
                        </select>
                      </div>
                      <div class="col-md-6">
                        <button type="submit" class="btn btn-primary">Apply Breakpoint</button>
                        <a href="/example/layout-responsive/" class="btn btn-secondary">Reset to Default</a>
                      </div>
                    </div>
                  </form>
                </div>
              </div>
            </div>
          </div>
          {# Long-form content for scrolling demonstration #}
          <div class="row">
            <div class="col-12">
              <div class="card">
                <div class="card-header">
                  <h5 class="card-title mb-0">Understanding Responsive Breakpoints</h5>
                </div>
                <div class="card-body">
                  <h4>Section 1: What Are Breakpoints?</h4>
                  <p>
                    Bootstrap breakpoints are specific screen widths where your layout changes to better accommodate different
                    device sizes. The sidebar_expand attribute determines at which breakpoint your sidebar transitions from
                    a mobile off-canvas menu to a persistent sidebar.
                  </p>
                  <p>
                    Below the selected breakpoint, the sidebar is hidden by default and can be opened with a hamburger menu button.
                    Above the breakpoint, the sidebar is always visible and pushes the main content to the right.
                  </p>
                  <h4>Section 2: Bootstrap 5 Breakpoint System</h4>
                  <table class="table table-bordered">
                    <thead>
                      <tr>
                        <th>Breakpoint</th>
                        <th>Class</th>
                        <th>Min Width</th>
                        <th>Typical Devices</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr>
                        <td>
                          <strong>sm</strong>
                        </td>
                        <td>
                          <code>.sidebar-expand-sm</code>
                        </td>
                        <td>576px</td>
                        <td>Large phones, small tablets</td>
                      </tr>
                      <tr>
                        <td>
                          <strong>md</strong>
                        </td>
                        <td>
                          <code>.sidebar-expand-md</code>
                        </td>
                        <td>768px</td>
                        <td>Tablets</td>
                      </tr>
                      <tr>
                        <td>
                          <strong>lg</strong>
                        </td>
                        <td>
                          <code>.sidebar-expand-lg</code>
                        </td>
                        <td>992px</td>
                        <td>Laptops, desktops (default)</td>
                      </tr>
                      <tr>
                        <td>
                          <strong>xl</strong>
                        </td>
                        <td>
                          <code>.sidebar-expand-xl</code>
                        </td>
                        <td>1200px</td>
                        <td>Large desktops</td>
                      </tr>
                      <tr>
                        <td>
                          <strong>xxl</strong>
                        </td>
                        <td>
                          <code>.sidebar-expand-xxl</code>
                        </td>
                        <td>1400px</td>
                        <td>Extra large desktops</td>
                      </tr>
                    </tbody>
                  </table>
                  <h4>Section 3: Choosing the Right Breakpoint</h4>
                  <p>
                    The default breakpoint (lg - 992px) works well for most applications. It shows the sidebar on typical
                    laptop and desktop screens while using off-canvas navigation on tablets and phones.
                  </p>
                  <ul>
                    <li>
                      <strong>Use 'sm' or 'md':</strong> For mobile-first applications where navigation should be visible on tablets
                    </li>
                    <li>
                      <strong>Use 'lg' (default):</strong> Standard choice for business applications and admin dashboards
                    </li>
                    <li>
                      <strong>Use 'xl' or 'xxl':</strong> For data-heavy applications that need maximum content space on smaller screens
                    </li>
                  </ul>
                  <h4>Section 4: Testing Breakpoints</h4>
                  <p>
                    To test breakpoint behavior, select a breakpoint from the dropdown above and resize your browser window:
                  </p>
                  <ol>
                    <li>Select a breakpoint (e.g., 'md' = 768px)</li>
                    <li>Click "Apply Breakpoint"</li>
                    <li>Slowly resize your browser window narrower and wider</li>
                    <li>Watch the sidebar transition between off-canvas and persistent modes</li>
                    <li>Try opening the off-canvas menu with the hamburger button when below the breakpoint</li>
                  </ol>
                  <h4>Section 5: Implementation in Templates</h4>
                  <p>
                    In your Django templates, set the breakpoint using the sidebar_expand attribute:
                  </p>
                  <pre><code>&lt;c-app sidebar_expand="lg"&gt;
  &lt;c-app.header /&gt;
  &lt;c-app.sidebar /&gt;
  &lt;c-app.main&gt;
    ...
  &lt;/c-app.main&gt;
&lt;/c-app&gt;</code></pre>
                  <h4>Section 6: Combining with Fixed Properties</h4>
                  <p>
                    You can combine sidebar_expand with fixed properties for complete layout control. For example:
                  </p>
                  <pre><code>&lt;c-app sidebar_expand="md" fixed_sidebar fixed_header&gt;
  ...
&lt;/c-app&gt;</code></pre>
                  <p>
                    This creates a layout where the sidebar expands on tablets (768px+) and both sidebar and header
                    remain fixed when scrolling.
                  </p>
                  <p>
                    Visit the <a href="/example/layout-fixed/">Fixed Properties Demo</a> to test combinations of
                    fixed elements alongside responsive breakpoints.
                  </p>
                  <h4>Section 7: Mobile Considerations</h4>
                  <p>
                    On mobile devices (below your selected breakpoint), the sidebar becomes an off-canvas menu that
                    slides in from the left when the hamburger menu is clicked. This saves screen space and provides
                    a native app-like experience.
                  </p>
                  <p>
                    The off-canvas menu includes a backdrop overlay that dismisses the menu when clicked. This is
                    a standard mobile UX pattern that users expect.
                  </p>
                  <h4>Section 8: Accessibility and Keyboard Navigation</h4>
                  <p>
                    The sidebar works with keyboard navigation at all breakpoints. Users can:
                  </p>
                  <ul>
                    <li>Tab to the hamburger menu button and press Enter to open/close</li>
                    <li>Tab through menu items when sidebar is open</li>
                    <li>Press Escape to close the off-canvas menu</li>
                    <li>Use arrow keys for treeview navigation (if implemented)</li>
                  </ul>
                  <p style="padding-bottom: 200px;">
                    <em>Scroll down to test content scrolling behavior...</em>
                  </p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </c-app.main>
    <c-app.footer />
  </c-app>
{% endblock app %}
