{% extends "base.html" %}
{% load cotton %}
{% block app %}
  {# Dynamic layout configuration based on query parameters #}
  <c-app :fixed_sidebar="fixed_sidebar"
         :fixed_header="fixed_header"
         :fixed_footer="fixed_footer">
    <c-app.header />
    <c-app.sidebar />
    <c-app.main>
      <div class="app-content-header">
        <div class="container-fluid">
          <div class="row">
            <div class="col-sm-6">
              <h3 class="mb-0">Fixed Properties Demo</h3>
            </div>
            <div class="col-sm-6">
              <ol class="breadcrumb float-sm-end">
                <li class="breadcrumb-item">
                  <a href="/">Home</a>
                </li>
                <li class="breadcrumb-item">
                  <a href="/example/">Example</a>
                </li>
                <li class="breadcrumb-item active"
                    aria-current="page">Fixed Properties</li>
              </ol>
            </div>
          </div>
        </div>
      </div>
      <div class="app-content">
        <div class="container-fluid">
          {# Helper text and visual indicators #}
          <div class="row mb-4">
            <div class="col-12">
              <div class="alert alert-info">
                <h5 class="alert-heading">
                  <i class="bi bi-info-circle"></i> Layout Testing Instructions
                </h5>
                <p>
                  Use the checkboxes below to test different combinations of fixed layout properties.
                  When elements are fixed, they will stay in place while you scroll the page content.
                </p>
                <ul class="mb-0">
                  <li>
                    <strong>Fixed Sidebar:</strong> Sidebar remains visible when scrolling
                  </li>
                  <li>
                    <strong>Fixed Header:</strong> Header stays at top during scroll
                  </li>
                  <li>
                    <strong>Fixed Footer:</strong> Footer stays at bottom during scroll
                  </li>
                </ul>
              </div>
            </div>
          </div>
          {# Visual status indicators #}
          <div class="row mb-4">
            <div class="col-12">
              <div class="card">
                <div class="card-header">
                  <h5 class="card-title mb-0">Current Configuration</h5>
                </div>
                <div class="card-body">
                  <div class="row">
                    <div class="col-md-4">
                      <strong>Fixed Sidebar:</strong>
                      {% if fixed_sidebar %}
                        <span class="badge bg-success">Enabled</span>
                        <small class="text-muted">(layout-fixed)</small>
                      {% else %}
                        <span class="badge bg-secondary">Disabled</span>
                      {% endif %}
                    </div>
                    <div class="col-md-4">
                      <strong>Fixed Header:</strong>
                      {% if fixed_header %}
                        <span class="badge bg-success">Enabled</span>
                        <small class="text-muted">(fixed-header)</small>
                      {% else %}
                        <span class="badge bg-secondary">Disabled</span>
                      {% endif %}
                    </div>
                    <div class="col-md-4">
                      <strong>Fixed Footer:</strong>
                      {% if fixed_footer %}
                        <span class="badge bg-success">Enabled</span>
                        <small class="text-muted">(fixed-footer)</small>
                      {% else %}
                        <span class="badge bg-secondary">Disabled</span>
                      {% endif %}
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          {# Configuration form with checkboxes #}
          <div class="row mb-4">
            <div class="col-12">
              <div class="card">
                <div class="card-header">
                  <h5 class="card-title mb-0">Select Layout Properties</h5>
                </div>
                <div class="card-body">
                  <form method="get" action="">
                    <div class="row">
                      <div class="col-md-4">
                        <div class="form-check">
                          <input class="form-check-input"
                                 type="checkbox"
                                 name="fixed_sidebar"
                                 id="fixed_sidebar"
                                 {% if fixed_sidebar %}checked{% endif %} />
                          <label class="form-check-label" for="fixed_sidebar">Fixed Sidebar</label>
                        </div>
                      </div>
                      <div class="col-md-4">
                        <div class="form-check">
                          <input class="form-check-input"
                                 type="checkbox"
                                 name="fixed_header"
                                 id="fixed_header"
                                 {% if fixed_header %}checked{% endif %} />
                          <label class="form-check-label" for="fixed_header">Fixed Header</label>
                        </div>
                      </div>
                      <div class="col-md-4">
                        <div class="form-check">
                          <input class="form-check-input"
                                 type="checkbox"
                                 name="fixed_footer"
                                 id="fixed_footer"
                                 {% if fixed_footer %}checked{% endif %} />
                          <label class="form-check-label" for="fixed_footer">Fixed Footer</label>
                        </div>
                      </div>
                    </div>
                    <div class="row mt-3">
                      <div class="col-12">
                        <button type="submit" class="btn btn-primary">Apply Layout</button>
                        <a href="/example/layout-fixed/"
                           class="btn btn-secondary">Reset</a>
                      </div>
                    </div>
                  </form>
                </div>
              </div>
            </div>
          </div>
          {# Long-form content for scrolling demonstration (2-3 viewport heights) #}
          <div class="row">
            <div class="col-12">
              <div class="card">
                <div class="card-header">
                  <h5 class="card-title mb-0">Scrollable Content Area</h5>
                </div>
                <div class="card-body">
                  <h4>Section 1: Introduction to Fixed Layouts</h4>
                  <p>
                    Fixed layout properties allow you to keep navigation elements visible while scrolling through long content.
                    This is particularly useful for dashboards, admin interfaces, and data-heavy applications where users need
                    constant access to navigation and controls.
                  </p>
                  <p>
                    AdminLTE 4 provides three independent fixed properties: fixed sidebar, fixed header, and fixed footer.
                    Each can be enabled independently or combined for different layout experiences. The most common combination
                    is fixed sidebar + fixed header, which creates a traditional dashboard frame.
                  </p>
                  <p>
                    Scroll down this page to see how the fixed properties affect the layout behavior. Pay attention to which
                    elements stay in place and which ones scroll with the content.
                  </p>
                  <h4>Section 2: Testing Different Combinations</h4>
                  <p>
                    Try different combinations of checkboxes to see how they interact. Each property is independent, so you can
                    enable any subset that fits your use case.
                  </p>
                  <ul>
                    <li>
                      <strong>Fixed Sidebar Only:</strong> Useful for content-focused layouts where navigation should remain accessible
                    </li>
                    <li>
                      <strong>Fixed Header Only:</strong> Common for marketing sites or blogs where top navigation is most important
                    </li>
                    <li>
                      <strong>Fixed Footer Only:</strong> Less common, but useful for applications with important footer controls
                    </li>
                    <li>
                      <strong>Fixed Sidebar + Header:</strong> The most popular combination for admin dashboards and data applications
                    </li>
                    <li>
                      <strong>All Fixed (Complete):</strong> Creates an application-like experience with only content scrolling
                    </li>
                  </ul>
                  <h4>Section 3: Implementation Details</h4>
                  <p>
                    Behind the scenes, django-mvp translates boolean attributes on the &lt;c-app&gt; component into AdminLTE CSS classes:
                  </p>
                  <table class="table table-bordered">
                    <thead>
                      <tr>
                        <th>Attribute</th>
                        <th>CSS Class</th>
                        <th>Effect</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr>
                        <td>
                          <code>fixed_sidebar</code>
                        </td>
                        <td>
                          <code>.layout-fixed</code>
                        </td>
                        <td>Sidebar becomes sticky with 100vh height</td>
                      </tr>
                      <tr>
                        <td>
                          <code>fixed_header</code>
                        </td>
                        <td>
                          <code>.fixed-header</code>
                        </td>
                        <td>Header remains at top of viewport</td>
                      </tr>
                      <tr>
                        <td>
                          <code>fixed_footer</code>
                        </td>
                        <td>
                          <code>.fixed-footer</code>
                        </td>
                        <td>Footer remains at bottom of viewport</td>
                      </tr>
                    </tbody>
                  </table>
                  <h4>Section 4: Browser Compatibility</h4>
                  <p>
                    Fixed layouts work in all modern browsers (Chrome, Firefox, Safari, Edge) using CSS position: sticky.
                    The behavior is consistent across desktop and mobile devices, though mobile browsers may show/hide
                    address bars which can affect viewport height calculations.
                  </p>
                  <p>
                    On smaller screens, the sidebar typically becomes an off-canvas menu that slides in from the side.
                    The fixed properties still apply when the sidebar is expanded on mobile.
                  </p>
                  <h4>Section 5: Performance Considerations</h4>
                  <p>
                    Fixed layouts have minimal performance impact. The CSS transforms and positioning are handled efficiently
                    by modern browsers. However, be mindful of heavy content in fixed sidebars, as that content remains in
                    memory and affects rendering even when scrolled out of view.
                  </p>
                  <p>
                    For very long sidebar menus (100+ items), consider implementing virtualization or lazy loading to maintain
                    smooth scrolling performance.
                  </p>
                  <h4>Section 6: Accessibility</h4>
                  <p>
                    Fixed layouts are fully accessible when implemented correctly. Screen readers can navigate through fixed
                    elements just like regular content. Keyboard navigation works as expected, with tab order following the
                    DOM structure.
                  </p>
                  <p>
                    Ensure that fixed elements don't obscure important content on smaller screens or at high zoom levels.
                    Test your layout at 200% browser zoom to verify readability and usability.
                  </p>
                  <h4>Section 7: Next Steps</h4>
                  <p>
                    After testing fixed properties, try the <a href="/example/layout-responsive/">Responsive Breakpoint Demo</a>
                    to see how sidebar expansion works at different screen sizes.
                  </p>
                  <p>
                    You can also combine fixed properties with responsive breakpoints for complete control over your layout behavior
                    at all screen sizes and scroll positions.
                  </p>
                  <p style="padding-bottom: 200px;">
                    <em>Scroll to the bottom to verify footer behavior...</em>
                  </p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </c-app.main>
    <c-app.footer />
  </c-app>
{% endblock app %}
