{% load humanize %}
<c-card>
  <div class="d-flex justify-content-between align-items-start mb-2">
    <h5 class="card-title">{{ object.title }}</h5>
    {% if object.is_overdue %}<span class="badge bg-danger">Overdue</span>{% endif %}
  </div>
  {% if object.category %}
    <p class="text-muted small">
      <i class="bi bi-{{ object.category.icon }}"></i> {{ object.category.name }}
    </p>
  {% endif %}
  {% if object.description %}<p class="card-text">{{ object.description|truncatewords:20 }}</p>{% endif %}
  <div class="d-flex gap-2 mb-2">
    <span class="badge bg-{% if object.status == 'done' %}success{% elif object.status == 'in_progress' %}warning{% elif object.status == 'review' %}info{% else %}secondary{% endif %}">
      {{ object.get_status_display }}
    </span>
    <span class="badge bg-{% if object.priority == 'urgent' %}danger{% elif object.priority == 'high' %}warning{% elif object.priority == 'medium' %}info{% else %}secondary{% endif %}">
      {{ object.get_priority_display }}
    </span>
  </div>
  <div class="mt-2">
    <small class="text-muted">
      {% if object.assignee %}
        <i class="bi bi-person"></i> {{ object.assignee }}
      {% else %}
        <span class="text-muted">Unassigned</span>
      {% endif %}
    </small>
    {% if object.due_date %}
      <small class="text-muted ms-2">
        <i class="bi bi-calendar"></i> {{ object.due_date|date:"M j, Y" }}
      </small>
    {% endif %}
  </div>
  <c-slot name="actions">
    <c-card.action href="{% url 'task_detail' object.pk %}"
                   class="btn btn-sm btn-primary w-100"
                   text="View task" />
  </c-slot>
</c-card>
