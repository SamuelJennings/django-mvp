.sidebar-layout {
  height: 100vh;
  display: flex;
  overflow: hidden;

  > .main-column {
    display: flex;
    flex-direction: column;
    flex: 1;
    overflow: hidden;
    min-width: 0;
  }

  @each $name, $size in $grid-breakpoints {
    &.hide-sidebar-#{$name} {
      > .sidebar {
        @extend .offcanvas-#{$name} !optional;
      }

      // Sidebar Visibility Utilities
      // Scoped to only affect direct structural children, not nested .sidebar-layout elements

      // Hide element when sidebar is offcanvas (below breakpoint)
      // Usage: navbar menu items that should hide on mobile
      // > .sidebar .hide-if-sidebar-hidden,
      // > .main-column > .navbar .hide-if-sidebar-hidden {
      //   @media (max-width: ($size - 1px)) {
      //     display: none !important;
      //   }
      // }
      > .sidebar, > .main-column {
          .hide-if-sidebar-hidden {
            @media (max-width: ($size - 1px)) {
              display: none !important;
            }
          }
      }

      // Show element only when sidebar is offcanvas (below breakpoint)
      // Usage: hamburger buttons that should only show on mobile
      > .sidebar .show-if-sidebar-hidden,
      > .main-column > .navbar .show-if-sidebar-hidden {
        display: none !important;

        @media (max-width: ($size - 1px)) {
          display: block !important;
        }
      }

      // Hide element when sidebar is in-flow (above breakpoint)
      // Show element when sidebar is offcanvas (below breakpoint)
      // Usage: offcanvas dismiss buttons inside sidebar
      > .sidebar .hide-if-sidebar-visible,
      > .main-column > .navbar .hide-if-sidebar-visible {
        // Hide above breakpoint (when sidebar is in-flow)
        @media (min-width: $size) {
          display: none !important;
        }

        // Show below breakpoint (when sidebar is offcanvas)
        @media (max-width: ($size - 1px)) {
          display: block !important;
        }
      }
    }
  }
}

.main-content {
  flex: 1 1 auto;
  overflow: auto;
}